<HTML>
<HEAD>
<TITLE>Easy Wave Cutter</TITLE>
<meta charset="utf-8">
</HEAD>
<BODY>
<a name="top"><font size=5>
Easy Wave Cutter
</font>
<P>
WAVE ファイル分割支援ソフトです。マークを打ち込んだ部分で
ファイルを分割します。無音部分を検索してマークを打ち込むことも
できます。
<P>
なおこの　Easy Wave Cutter は Wave ファイルフィルタ
<a href="../waveflt2.htm" TARGET=_blank>WAVEFLT2</a> のフロントエンドツールであり WAVEFLT2 が無ければ
動作しないので最新版の WAVEFLT2 をダウンロードしてからお使いください。
<P>
<hr><a name="dosa"><font size=5>
☆ 動作環境
</font>
<P>
Windows7以降
<P>
そこそこ速いマシン
<P>
解像度 800x600 以上
<P>
<hr>
<a name="kidou"><font size=5>
☆ 起動方法、アンインストール
</font>
<P>
はじめに Wave ファイルフィルタ
WAVEFLT2 の最新版をダウンロードし、waveflt2.exe　を
ewc.exe と同じディレクトリに移動してください。
あとは ewc.exe を起動するだけです。
<P>
アンインストールは
レジストリは使用していないので
そのまま削除してください。

<P>
<hr>
<a name="sousa"><font size=5>
☆ 基本操作
</font>
<P>	
「Load」ボタン、または D&D で編集したい Wave ファイルを開きます。
<P>
波形が表示されているウィンドウ上を左クリックすると黄色の「主マーク」をセットします。
<P>
右クリックをすると緑色の「副マーク」をセットします。
<P>
ダブルクリックすると紫色の「分割マーク」をセットします。
<P>
各マーク位置はスクロールバーの下に三角マークで表示されます。
<P>
分割マークを消去したい場合は、紫色の分割ラインの上で右クリック
してください。また全ての分割マークを消去したい場合はReset」ボ
タンを押して下さい。分割マークは最大 128 個までセットできます。
<P>
「Left」、「Right」ボタンを押すと主マーク(黄色)の左と右側のデータをカットします。
カット操作を誤った場合は「Undo」ボタンを押すと元に戻ります。「Reset」ボ
タンを押せば初期状態に戻ります。
<P>
あとは「Edit」ボタンを押して「分割」ボタンを押すと WAVEFLT2 を起動して分割を開始します。
WAVEFLT2 を途中で停止する場合は Easy Wave Cutter の上に表示される「中止」ボタンを押して下さい。
<P>
終了する場合は右上の「x」ボタンを押して下さい。

<P>
<hr>
<a name="flow"><font size=5>
☆ おおまかな編集の流れ
</font>
<P>
(1) 左クリックで主マークを打ち込み、<a href="#mainwin">「Left」「Right」ボタン</a>を使って前後の必要ない部分をカットする
<p>
(2) <a href="#nosnd">無音検索</a>などで分割マークをセットする
<P>
(3) 再生しながらトラックがきちんと分割されているかチェックしていく。
うまく分割されていないときはダブルクリックで分割マークを打ち込んだり、
右クリックで分割マークを削除して調整する
<P>
(4) テキスト形式で<a href="#track">トラック名設定ファイル</a>を作成する
<P>
(5) F1 キーか「Track」ボタンを押して<a href="#track">トラック設定ダイアログ</a>を表示し、
保存先を選択してから「ユーザー定義トラック名設定」ボタンを押す
<P>
(6) ユーザー定義トラック名設定ダイアログの「設定ファイル読込」
ボタンを押して設定ファイルを読み込む
<P>
(7) 「試聴」しながらトラックとトラック名が合っているかをチェックしていく。
もし合っていなければ設定ファイルを更新してから「再読み込み」ボタンを押す。
分割位置が間違っている場合は「結合」ボタンでトラックを結合するか、
メインウィンドウ上で分割マークの追加や削除をしてファイル名とトラックを合わせていく
(F1 キーでトラック設定ダイアログを開いて ESC でダイアログを閉じるというのを使うと便利)。
<P>
(8) 念のために<a href="#track">トラック設定ダイアログ</a>で分割マークの設定を
保存しておく。
<P>
(9) あとはメインウィンドウ上の「Edit」ボタンを押して「分割」ボタンで
分割する。

<P>
<P>
<hr>
<a name="mainwin"><font size=5>
☆ メインウィンドウ
</font>
<P>
メインウィンドウ上のボタンは左から
<P>
<ul>
<li>「Info」… 現在開いている Wave ファイル等の情報やトラック情報を表示します。
<P>
<li>「Setup」… デバイス等の設定をします。
<P>
「シフトロック」を押すとシフトを押しながらでないと主、副マークがセットでき
なくなります。マークを固定したい時に使用します。「ヘルプ」ボタンを押すとこ
のヘルプファイルを表示します。
<P>
「コンソールを表示する」をセットすると WAVEFLT2 動作時にコンソールを
開きます。
<P>
<li>「Track」…トラック名などの設定をします。F1 キーでもダイアログを
表示します。詳しくは<a href="#track">トラック設定</a>の項を参照してください。
<P>
<li>「Load」 … Wave ファイルの読み込みを行います。D&D にも対応しています。
<P>
<li>「Left」「Right」… 主マーク(黄色の線)の左側、及び右側にあるデータをカットします｡
<P>
<li>「In」「Out」… 波形の画像を縦横に拡大縮小して表示します。
そのままボタンを押すと縦方向に拡大します。シフトを押しながらボタンを押すと横方向に拡大します。
倍率はステータス画面に「x8」の様に表示されます。
<P>
<li>「Undo」 … 「Left」「Right」カット操作を一つ前に戻します。
<P>
<li>「Reset」… 編集前の初期状態に戻します。分割マークもリセットします。
<P>
<li>「Jump」… 時間指定、トラック指定ジャンプ、無音部検索を行います。
<P>
時間指定ジャンプは時間を指定してから「ジャンプ」ボタンを押して下さい。
<P>
トラック指定ジャンプはトラック番号を指定してから「ジャンプ」ボタンを押して下さい。
<P>
無音部検索は、検索後の無音部内での位置、無音部の最小時間、しきい値を指定してから
「次に移動」を押すと次の無音部に移動します。
<P>
「主マークの位置から最適値を推定」ボタンは、主マーク(黄色のマーク)のある位置から、
無音部の秒数で指定した時間の間で音のピーク値を検索し、そのピーク値 + 8 の値を
しきい値にセットします。
<P>
「分割マークセット」ボタンは全ての無音部を検索して分割マークをセットします。
<P>
「平均音量値で検索」をチェックすると平均音量で無音部を検索します。チェックを外すと
若干検索速度が上がりますが精度は落ちます。
<p>
<li>「Edit」… WAVEFLT2 を起動して編集を行います。詳しくは<a href="#edit">編集メニュー</a>の
項を参照してください。
<P>
<li>「再生、停止 etc.」… 上段のボタンは左から
巻き戻し1,2,3  、再生・停止、早送り3,2,1 です。
24 bit 以上のファイルは内部で 16 bit に変換してから再生されます。

<P>
動作はシフトキーを押しているかどうかによって変わって
<P>
<table BORDER=1>
<tr><th>		  </th><th> シフトを押していない  </th><th> シフトを押している </th></tr>
<tr><td>巻き戻し 1</td><td> 300 秒巻き戻し</td></td><td>ファイルの先頭部に移動</td></tr>
<tr><td>巻き戻し 2</td><td> 15 秒巻き戻し</td></td><td>60 秒巻き戻し</td></tr>
<tr><td>巻き戻し 3</td><td> スクロールひとつ分巻き戻し</td></td><td>1 秒巻き戻し</td></tr>
<tr><td>早送り 3</td><td> スクロールひとつ分早送り</td></td><td>1 秒早送り</td></tr>
<tr><td>早送り 2</td><td> 15 秒早送り</td></td><td>60 秒早送り</td></tr>
<tr><td>早送り 1</td><td> 300 秒早送り</td></td><td>ファイルの最後部に移動</td></tr>
</table>
<P>
となります。
<P>
再生ボタンの下にある△ボタンを押すと
シフトを押しながらだと副、そのままだと主マークに飛びます。ブックマークとして
使用できます。
<P>
その両脇のボタンはトラック移動ボタンです。
</ul>
<hr>
<a name="nosnd"><font size=5>
☆ 無音部にマークをセット
</font>
<P>
ファイル内のすべての無音部分を検索して分割マークをセットすることができます。
<P>
(1) メインウィンドウの「Jump」ボタンを押す。
<P>
(2) マークを打ち込む無音部内での位置、無音部と判定する秒数、しきい値を設定する。
細切れで分割される場合は、「平均音量値で検索」をチェックするとうまくいく場合がある。
<P>
(3) 「分割マークセット」ボタンを押す。
<P>
<hr>
<a name="track"><font size=5>
☆ トラック設定
</font>
<P>
メインウィンドウの「Track」ボタンを押すか F1 キーを押すとトラック名や
分割マークなどの設定をできます。閉じる場合は 「OK」又は「キャンセル」又は ESC キーを
押します。
<P>
ベース名と拡張子にはベースとなるファイル名と拡張子をセットします。
<P>
保存先ディレクトリに出力ファイルの保存先を指定します。
空白の場合は入力ファイルと同じディレクトリに出力します。
<P>
<P>
「分割マーク設定ファイル」グループの「保存」ボタンで現在セットされている
分割マークの位置情報を保存します。「読込」ボタンで
位置情報を読み込んで分割マークをセットします。
<P>
<P>
「カット設定ファイル」グループの「保存」ボタンで現在のカットの設定
を保存して「読込」でカットの設定を読み込みます。
<P>
「ユーザー定義トラック名」でユーザー定義のファイル名をトラック毎に設定できます。
<P>
はじめにテキスト形式のトラック名設定ファイルを用意して
「設定ファイル」ボタンを押すとトラック名を設定できます。
<P>
「設定ファイルの空白行は出力しない(NULL 出力)」を
チェックしていない場合は空白の行はデフォルトの名前がセットされます。
例えば
<P>
<pre>
い
ろ

は
</pre>
<P>
というテキストファイルを読み込みと、 各トラックの名前は
<P>
トラック1 : い.wav <br>
トラック2 : ろ.wav  <br>
トラック3 : Track003.wav<br>
トラック4 : は.wav <br>
トラック5 : Track005.wav<br>
     :
<P>
となります。トラック名設定ファイルを更新した場合は「再読み込み」
ボタンを押して下さい。
<P>
「設定ファイルの空白行は出力しない(NULL 出力)」をチェックすると
空白行は出力しません。例えば上の場合は
トラック3と5を出力しません。
<P>
また、「リセット」ボタンでユーザー定義のファイル名をリセットし、
「試聴ボタン」、「結合」ボタンで、トラックの試聴(10 秒)と結合が出来ます。
視聴する場合は試聴ボタンの隣のスピンボックスに視聴したいトラック番号を
入力してください。結合したい場合は、
例えばトラック 2 から 10 まで結合する場合は、試聴ボタンの隣のスピンボックスを 2 、
結合ボタンの隣を 10 にセットしてから結合ボタンを押してください。
<P>
<hr>
<a name="edit"><font size=5>
☆ 編集メニュー
</font>
<P>
メイン画面上の「Edit」ボタンを押すと編集ダイアログが表示され、
WAVEFLT2 による編集を行います。
起動した WAVEFLT2 を途中で停止する場合は Easy Wave Cutter の上に表示される「中止」
ボタンを押して下さい。
<ul>

<P>
<li>「分割」
<P>
分割マークをセットした地点でファイルを分割します。
<P>

<li>「切り取り」
<P>
現在のトラックのみを切り取って保存します。
<P>

<li>「CM カット」
<P>
奇数番号のトラックのみを切り出して結合します。
<P>

<li>「全体保存」
<P>
分割マークを無視してファイル全体を保存します。
もし元のファイル名と同じファイルを保存ファイルとして指定した場合
は元のファイルは*.old と名前が変わります。

<P>
<li>「試聴」
<P>
WAVEFLT2 の出力先に waveout を
指定し、実際にハードディスクに保存せずに編集内容を試聴する事ができます。
再生を停止する場合は Easy Wave Cutter の上に表示される「中止」ボタンを押して下さい。

<P>
<li>「設定保存」
<P>
追加オプションで指定した設定をテキストフ
ァイルに保存します。保存したファイルはコマンドラインから手動で WAVEFLT2 を
起動する場合の設定ファイル(-cfg オプションで指定)として使用できます。


<P>
<li>「設定読込」
<P>
設定ファイルを読み込みます。


<P>
<li>「追加オプション」
<P>
ローパスフィルタやノーマライザなどの追加のオプション指定をします。
行の先頭に # をつけると、その行はコメントアウトされます。
詳しくは WAVEFLT2 のマニュアルを参考にして下さい。
<P>
(注) -cut*, -outfile オプションは指定しないでください。
<P>

</ul>

<hr>
<a name="report"><font size=5>☆ バグレポート等連絡先</font>
<P>
作者 :  東海林 智也
<br>
MAIL :  tmytokai[atmark]yahoo.co.jp
<br>
URL  :  <a href="https://github.com/tmytokai" TARGET=_blank>https://github.com/tmytokai</a>
<P>
<hr><a name="tyosaku"><font size=5>
☆ 著作権、免責等について
</font>
<P>
このプログラムはフリーソフトソフトウェアであり GPL に従って再頒布
または変更することができます。詳細についてはGNU 一般公有使用許諾書
をお読みください。
<P>

また本プログラムの使用によって生じたいかなる損害、問題等に作者は関
知しない事にします。使用者の責任の上で実行する様にして下さい。
<P>

Copyright (c) 1999-2015 Tomoya Tokairin
<P>


<hr><a name="kosin"><font size=5>
☆ 更新履歴
</font>
<pre>

2015/6/17 Ver.20150617

Visual C++ 2008 Express でビルドし直した。
GitHubでのバージョン管理に移行


2002/12/10 Ver 1.60

Win9x でちゃんと動かなかったバグを修正。
(原因) wsprintf(〜,"%I64d",〜) がWin9xだどちゃんと動かなかった。
CRT版のsprintfに変えたら直った。


2002/12/8 Ver 1.59

編集開始時にデバッグウィンドウが表示されるバグを修正(消すのを
忘れてた)。


2002/11/24 Ver 1.58

内部64bit化。
UNDO にバグがあったので修正。



2002/11/15 Ver 1.57

デバッグした。
マニュアル書いた。


2002/10/10 Ver 1.57b

2G以上のファイルで無音部検索の分割マークセット機能がうまく動作しないバグを(多分)修正
無音検索に「平均音量値で検索」の設定追加


2002/9/14 Ver 1.56b

分割時の上書き確認で、全て上書き、全ていいえ、中止を選択できるようにした。
無音部分判定を平均音量値で計算するようにした。
トラック設定ダイアログのトラック結合機能を強化して多重結合できるようにした。



2002/9/4 Ver 1.55b

シフトを押しながらOUT,INボタンを押すと縦方向にもグラフをズーム出来るようにした。


2002/9/4 Ver 1.54b

分割時にファイルが存在する場合に上書き保存するかどうか確認するようにした。
トラック名設定ダイアログに「設定ファイルの空白行は出力しない(NULL 出力)」の項目追加。


2002/6/1 Ver 1.53

24 bit 以上のファイルを再生するときは 16 bit に変換してから再生するようにした。


2002/6/1 Ver 1.52

IEEE-float 入力で +-1 を超えると波形が枠を超えて描画されるバグを修正


2002/6/1 Ver 1.51

96khz に対応


2002/5/30 Ver 1.5

WAVEFLT2 に対応
24bit,32bit,64 bit ファイルに対応
表示や閾値の指定を dB に変更


2002/4/7 Ver 1.21

ダイアログボックスを XP スタイルにした。
オーナー描画ボタンあたりの処理がいい加減だったのを直した。


2002/2/2 Ver 1.20

編集メニューに 「CM カット」機能追加。
トラック設定ダイアログにカット設定保存、読み込みボタン追加
その他細かいバグフィックス。


2002/1/30 Ver 1.10

△ボタンを押した時、シフト押しながらだと副、そのままだと主マークに飛ぶようにした。
無音検索すると分割マークが消えるバグを修正。
主副マークの所の音量レベルを表示するようにした。


2002/1/23 Ver 1.00

コンソール表示、非表示設定追加。
デバッグ。


2001/12/14 Ver 1.00pr

細かいバグの修正。
操作性をやや向上。



2001/12/13 Ver 1.00b3

トラック数が多いと WAVEFLT にちゃんとトラック名が渡らないバグを修正。
分割設定ファイルを読んだ後にトラック設定ファイルを読むと落ちるバグを修正。
今まで手を抜いてダイアログベースで作っていたのを、アクセレーターを使うためきちん
と RegisterClass でウインドウを作るようにした。
アクセレータが使えるようになったので F1 キーでトラックダイアログを開くようにした。
ごちゃごちゃしてるので少しソースを整理(もともと WAVEFLT のおまけ程度のソフト
だったので、かなり適当に書いたコードが多くて凄く汚い)。



2001/12/12 Ver 1.00b2

日本語のトラック名が文字化けするバグを修正。
トラック設定ダイアログとトラック名設定ダイアログをまとめて大きくした


2001/12/11 Ver 1.00b

機能とともにファイルサイズも増えてきたので、とりあえず WAVEFLT と
分離して配布することにした。

名前を e-WC から旧名の Easy Wave Cutter に戻した。

システムフォントのサイズを変更するとボタンの位置がずれるバグを修正。
ついでにボタンを何個か増やしてレイアウト変更。
トラック名を表示するようにした。
その他、色々機能追加。



(これ以前の履歴は WAVEFLT の履歴を参照)

<P>
</BODY>
</HTML>
